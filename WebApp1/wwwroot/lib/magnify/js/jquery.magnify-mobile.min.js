/*!
 * Mobile plugin for jQuery Magnify (https://thdoan.github.io/magnify/)
 *
 * jQuery Magnify by T. H. Doan is licensed under the MIT License.
 * Read a copy of the license in the LICENSE file or at https://choosealicense.com/licenses/mit/
 */
(function(n){if(n.fn.magnify){n("<style>.lens-mobile {position:fixed;top:0;left:0;width:100%;height:100%;background:#ccc;display:none;overflow:scroll;-webkit-overflow-scrolling:touch;z-index:9999;}.magnify-mobile>.close {position:fixed;top:10px;right:10px;width:32px;height:32px;background:#333;border-radius:16px;color:#fff;display:inline-block;font:normal bold 20px/32px sans-serif;letter-spacing:0;opacity:0.8;text-align:center;text-shadow:none;z-index:9999;}@media only screen and (min-device-width:320px) and (max-device-width:773px) {/* Assume QHD (1440 x 2560) is highest mobile resolution */.lens-mobile { display:block; }}<\/style>").appendTo("head");n(window).on("load",function(){var t,r,i;if(n("body").append('<div class="magnify-mobile"><div class="lens-mobile"><\/div><\/div>'),t=n(".lens-mobile"),t.is(":visible")&&!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msMaxTouchPoints)){r=n(".magnify");i=n(".magnify-mobile");r.off();i.hide().append('<i class="close">&times;<\/i>');i.children(".close").on(r.data("mobileCloseEvent"),function(){i.toggle()});r.children("img").on({touchend:function(){if(!n(this).data("drag")){var r=n(this).data("scrollOffset");i.toggle();t.scrollLeft(r.x);t.scrollTop(r.y)}},touchmove:function(){n(this).data("drag",!0)},touchstart:function(i){t.html('<img src="'+n(this).prev(".magnify-lens").css("background-image").replace(/url\(["']?|["']?\)/g,"")+'" alt="">');var r=n(this),u=r.data("zoomSize"),f=i.originalEvent.touches[0].pageX-r.offset().left,e=f/r.width(),o=i.originalEvent.touches[0].pageY-r.offset().top,s=o/r.height();r.data("scrollOffset",{x:u.width*e-window.innerWidth/2,y:u.height*s-window.innerHeight/2});n(this).data("drag",!1)}})}})}})(jQuery);